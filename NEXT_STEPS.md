# CHTLé¡¹ç›®ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

**æ—¥æœŸ**: 2025-10-06  
**å½“å‰ç‰ˆæœ¬**: v0.2.0-alpha  
**ç›®æ ‡ç‰ˆæœ¬**: v0.3.0-beta

## ðŸŽ¯ æ ¸å¿ƒç›®æ ‡

å°†CHTLç¼–è¯‘å™¨ä»Ž**å¯ç”¨çŠ¶æ€**æå‡åˆ°**ç”Ÿäº§å°±ç»ªçŠ¶æ€**ï¼Œé‡ç‚¹å®žçŽ°CHTL JSå’Œé«˜çº§ç‰¹æ€§ã€‚

## ðŸ“‹ ä¼˜å…ˆçº§è·¯çº¿å›¾

### é˜¶æ®µ1ï¼šå®Œå–„æ ¸å¿ƒåŠŸèƒ½ï¼ˆ1-2å‘¨ï¼‰

#### 1.1 CSSç”Ÿæˆå¢žå¼º â­â­â­â­â­
**é‡è¦æ€§**: éžå¸¸é«˜  
**éš¾åº¦**: ä¸­  
**é¢„è®¡æ—¶é—´**: 3-4å¤©

**ä»»åŠ¡**:
- [ ] å®žçŽ°å±žæ€§è¿ç®—ï¼ˆwidth: 100px + 50pxï¼‰
- [ ] å®žçŽ°å±žæ€§æ¡ä»¶è¡¨è¾¾å¼ï¼ˆwidth > 50px ? ... : ...ï¼‰
- [ ] å®žçŽ°å¼•ç”¨å±žæ€§ï¼ˆbox.widthï¼‰
- [ ] ä¼˜åŒ–CSSè¾“å‡ºæ ¼å¼
- [ ] æ”¯æŒCSSå•ä½å¤„ç†

**æµ‹è¯•è¦æ±‚**:
- 10+ä¸ªå±žæ€§è¿ç®—æµ‹è¯•ç”¨ä¾‹
- 5+ä¸ªæ¡ä»¶è¡¨è¾¾å¼æµ‹è¯•ç”¨ä¾‹
- è¾¹ç•Œæƒ…å†µæµ‹è¯•

**æˆåŠŸæ ‡å‡†**:
```chtl
div {
    style {
        width: 100px + 50px;  // ç”Ÿæˆ: width: 150px;
        height: width > 100px ? 200px : 100px;  // æ¡ä»¶è¡¨è¾¾å¼
    }
}
```

#### 1.2 JavaScriptç”Ÿæˆä¼˜åŒ– â­â­â­â­
**é‡è¦æ€§**: é«˜  
**éš¾åº¦**: ä¸­  
**é¢„è®¡æ—¶é—´**: 2-3å¤©

**ä»»åŠ¡**:
- [ ] å±€éƒ¨è„šæœ¬å—å¤„ç†
- [ ] è„šæœ¬åˆå¹¶å’ŒåŽ»é‡
- [ ] ä½œç”¨åŸŸç®¡ç†
- [ ] è„šæœ¬ä¾èµ–åˆ†æž

**æµ‹è¯•è¦æ±‚**:
- å±€éƒ¨è„šæœ¬æµ‹è¯•
- ä½œç”¨åŸŸéš”ç¦»æµ‹è¯•

#### 1.3 é”™è¯¯å¤„ç†å¢žå¼º â­â­â­
**é‡è¦æ€§**: ä¸­é«˜  
**éš¾åº¦**: ä½Ž  
**é¢„è®¡æ—¶é—´**: 2å¤©

**ä»»åŠ¡**:
- [ ] æ›´å‹å¥½çš„é”™è¯¯æ¶ˆæ¯
- [ ] é”™è¯¯ä½ç½®å¯è§†åŒ–
- [ ] å»ºè®®ä¿®å¤æç¤º
- [ ] è­¦å‘Šç³»ç»Ÿ

### é˜¶æ®µ2ï¼šCHTL JSå®žçŽ°ï¼ˆ2-3å‘¨ï¼‰

#### 2.1 CHTL JSè¯æ³•åˆ†æžå™¨ â­â­â­â­â­
**é‡è¦æ€§**: éžå¸¸é«˜  
**éš¾åº¦**: ä¸­é«˜  
**é¢„è®¡æ—¶é—´**: 4-5å¤©

**ä»»åŠ¡**:
- [ ] CHTLJSLexeråŸºç¡€å®žçŽ°
- [ ] CHTL JS Tokenç±»åž‹å®šä¹‰
- [ ] å¢žå¼ºé€‰æ‹©å™¨ {{...}} è¯†åˆ«
- [ ] ç‰¹æ®Šè¿ç®—ç¬¦è¯†åˆ«ï¼ˆ->ã€&->ï¼‰
- [ ] å£°æ˜Žå¼è¯­æ³•è¯†åˆ«

**æ–‡ä»¶ç»“æž„**:
```
src/CHTL-JS/
â”œâ”€â”€ CHTLJSLexer/
â”‚   â”œâ”€â”€ Token.h/cpp
â”‚   â”œâ”€â”€ Lexer.h/cpp
â”‚   â””â”€â”€ GlobalMap.h/cpp
```

#### 2.2 å¢žå¼ºé€‰æ‹©å™¨å®žçŽ° â­â­â­â­â­
**é‡è¦æ€§**: éžå¸¸é«˜  
**éš¾åº¦**: ä¸­  
**é¢„è®¡æ—¶é—´**: 3-4å¤©

**ä»»åŠ¡**:
- [ ] {{selector}} è§£æž
- [ ] CSSé€‰æ‹©å™¨è½¬JavaScriptä»£ç 
- [ ] querySelector/querySelectorAllç”Ÿæˆ
- [ ] & å¼•ç”¨è§£æž

**æˆåŠŸæ ‡å‡†**:
```chtl
script {
    {{.box}}.textContent = "Hello";
    // ç”Ÿæˆ: document.querySelector('.box').textContent = "Hello";
    
    {{&}}->addEventListener('click', handler);
    // æ ¹æ®ä¸Šä¸‹æ–‡ç”Ÿæˆç›¸åº”ä»£ç 
}
```

#### 2.3 åŸºç¡€CHTL JSè¯­æ³• â­â­â­â­
**é‡è¦æ€§**: é«˜  
**éš¾åº¦**: ä¸­é«˜  
**é¢„è®¡æ—¶é—´**: 5-6å¤©

**ä»»åŠ¡**:
- [ ] Listenè¯­æ³•è§£æžå’Œç”Ÿæˆ
- [ ] Delegateè¯­æ³•è§£æžå’Œç”Ÿæˆ
- [ ] äº‹ä»¶ç»‘å®šæ“ä½œç¬¦ &->
- [ ] å£°æ˜Žå¼å‡½æ•°è°ƒç”¨

**ç¤ºä¾‹**:
```chtl
script {
    {{box}}->Listen {
        click: () => { ... },
        mouseenter: handler
    };
    
    {{box}} &-> click: handler;
}
```

#### 2.4 ç›æ¡¥æœºåˆ¶åŸºç¡€ â­â­â­â­â­
**é‡è¦æ€§**: éžå¸¸é«˜  
**éš¾åº¦**: é«˜  
**é¢„è®¡æ—¶é—´**: 4-5å¤©

**ä»»åŠ¡**:
- [ ] SharedCoreæž¶æž„è®¾è®¡
- [ ] CHTLä¸ŽCHTL JSé€šä¿¡åè®®
- [ ] ä¸Šä¸‹æ–‡å…±äº«æœºåˆ¶
- [ ] {{&}} å¼•ç”¨è§£æž

**å…³é”®ç‚¹**:
- CHTL Parseréœ€è¦è¯†åˆ«scriptå—ä¸­çš„CHTL JSè¯­æ³•
- CHTL JS Parseréœ€è¦èƒ½å¤Ÿè®¿é—®CHTLçš„ä¸Šä¸‹æ–‡ä¿¡æ¯
- åŒå‘é€šä¿¡æœºåˆ¶

### é˜¶æ®µ3ï¼šé«˜çº§ç‰¹æ€§ï¼ˆ3-4å‘¨ï¼‰

#### 3.1 æ¨¡æ¿ç³»ç»Ÿ â­â­â­â­
**é‡è¦æ€§**: é«˜  
**éš¾åº¦**: ä¸­é«˜  
**é¢„è®¡æ—¶é—´**: 5-6å¤©

**ä»»åŠ¡**:
- [ ] æ¨¡æ¿å®šä¹‰è§£æž
- [ ] æ¨¡æ¿ä½¿ç”¨å’Œå±•å¼€
- [ ] æ¨¡æ¿ç»§æ‰¿ï¼ˆinheritï¼‰
- [ ] æ ·å¼ç»„æ¨¡æ¿
- [ ] å…ƒç´ æ¨¡æ¿
- [ ] å˜é‡ç»„æ¨¡æ¿

**ç¤ºä¾‹**:
```chtl
[Template] @Style DefaultText {
    color: "black";
    line-height: 1.6;
}

div {
    style {
        @Style DefaultText;  // ä½¿ç”¨æ¨¡æ¿
    }
}
```

#### 3.2 è‡ªå®šä¹‰ç³»ç»Ÿ â­â­â­â­
**é‡è¦æ€§**: é«˜  
**éš¾åº¦**: é«˜  
**é¢„è®¡æ—¶é—´**: 6-7å¤©

**ä»»åŠ¡**:
- [ ] è‡ªå®šä¹‰å®šä¹‰è§£æž
- [ ] æ— å€¼æ ·å¼ç»„
- [ ] ç‰¹ä¾‹åŒ–æ“ä½œï¼ˆdeleteã€insertï¼‰
- [ ] ç´¢å¼•è®¿é—®
- [ ] å…ƒç´ æ¨¡æ¿å¢žå¼º

**ç¤ºä¾‹**:
```chtl
[Custom] @Style TextSet {
    color,    // æ— å€¼
    font-size;
}

[Custom] @Element Box {
    div {}
    div {}
    span {}
}

// ä½¿ç”¨
@Element Box {
    div[1] {  // ç´¢å¼•è®¿é—®
        style { ... }
    }
    
    insert after div[0] {  // æ’å…¥
        p { text: "New content"; }
    }
}
```

#### 3.3 æ›´å¤šCHTL JSè¯­æ³• â­â­â­
**é‡è¦æ€§**: ä¸­é«˜  
**éš¾åº¦**: é«˜  
**é¢„è®¡æ—¶é—´**: 7-8å¤©

**ä»»åŠ¡**:
- [ ] Animateè¯­æ³•
- [ ] Routerè¯­æ³•
- [ ] ScriptLoader
- [ ] è™šå¯¹è±¡Vir
- [ ] util...endè¡¨è¾¾å¼

### é˜¶æ®µ4ï¼šæ¨¡å—ç³»ç»Ÿï¼ˆ1-2ä¸ªæœˆï¼‰

#### 4.1 CMODç³»ç»Ÿ â­â­â­
**ä»»åŠ¡**:
- [ ] æ¨¡å—ç»“æž„å®šä¹‰
- [ ] Infoå’ŒExportè§£æž
- [ ] æ¨¡å—æ‰“åŒ…å·¥å…·
- [ ] æ¨¡å—åŠ è½½å™¨

#### 4.2 CJMODç³»ç»Ÿ â­â­â­
**ä»»åŠ¡**:
- [ ] CJMOD APIè®¾è®¡
- [ ] è¯­æ³•åˆ†æžï¼ˆSyntax::analyzeï¼‰
- [ ] å‚æ•°ç»‘å®šï¼ˆArg::bindï¼‰
- [ ] ä»£ç ç”Ÿæˆ

#### 4.3 å®˜æ–¹æ¨¡å— â­â­
**ä»»åŠ¡**:
- [ ] Chthollyæ¨¡å—
- [ ] Yuigahamaæ¨¡å—

### é˜¶æ®µ5ï¼šç”Ÿæ€ç³»ç»Ÿï¼ˆ2-3ä¸ªæœˆï¼‰

#### 5.1 VSCodeæ‰©å±•
- [ ] è¯­æ³•é«˜äº®
- [ ] ä»£ç è¡¥å…¨
- [ ] å®žæ—¶é¢„è§ˆ
- [ ] é”™è¯¯æç¤º

#### 5.2 å¤–éƒ¨ç¼–è¯‘å™¨é›†æˆ
- [ ] CSSç¼–è¯‘å™¨ï¼ˆlibcss/sasscï¼‰
- [ ] JavaScriptç¼–è¯‘å™¨ï¼ˆV8/QuickJSï¼‰

## ðŸš€ å³åˆ»å¼€å§‹çš„ä»»åŠ¡

### ç¬¬ä¸€å‘¨ä»»åŠ¡æ¸…å•

#### Day 1-2: CSSç”Ÿæˆå¢žå¼º
1. å®žçŽ°åŸºç¡€å±žæ€§è¿ç®—
2. ç¼–å†™æµ‹è¯•ç”¨ä¾‹
3. æ–‡æ¡£æ›´æ–°

#### Day 3-4: JavaScriptç”Ÿæˆ
1. å±€éƒ¨è„šæœ¬å¤„ç†
2. è„šæœ¬åˆå¹¶
3. æµ‹è¯•

#### Day 5-7: CHTL JSè¯æ³•åˆ†æžå™¨
1. Tokenç±»åž‹å®šä¹‰
2. Lexerå®žçŽ°
3. å¢žå¼ºé€‰æ‹©å™¨è¯†åˆ«
4. æµ‹è¯•

### å…³é”®é‡Œç¨‹ç¢‘

- **Week 2**: CSSå’ŒJSç”Ÿæˆå®Œå–„ âœ“
- **Week 4**: CHTL JSåŸºç¡€è¯­æ³•å®Œæˆ âœ“
- **Week 6**: ç›æ¡¥æœºåˆ¶å®žçŽ° âœ“
- **Week 8**: æ¨¡æ¿ç³»ç»Ÿå®Œæˆ âœ“
- **Week 10**: è‡ªå®šä¹‰ç³»ç»Ÿå®Œæˆ âœ“
- **Month 3**: CMODç³»ç»Ÿå®Œæˆ âœ“
- **Month 4**: CJMODç³»ç»Ÿå®Œæˆ âœ“
- **Month 6**: VSCodeæ‰©å±•å‘å¸ƒ âœ“

## ðŸ“Š æˆåŠŸæŒ‡æ ‡

### æŠ€æœ¯æŒ‡æ ‡
- [ ] ä»£ç è¦†ç›–çŽ‡ > 80%
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡çŽ‡ 100%
- [ ] ç¼–è¯‘æ—¶é—´ < 1ç§’ï¼ˆå°åž‹é¡¹ç›®ï¼‰
- [ ] å†…å­˜ä½¿ç”¨ < 100MB

### åŠŸèƒ½æŒ‡æ ‡
- [ ] æ”¯æŒCHTL.mdä¸­å®šä¹‰çš„æ‰€æœ‰è¯­æ³•
- [ ] èƒ½å¤Ÿç¼–è¯‘å®žé™…é¡¹ç›®
- [ ] ç”Ÿæˆçš„ä»£ç ç¬¦åˆWebæ ‡å‡†
- [ ] æ”¯æŒSource Map

### è´¨é‡æŒ‡æ ‡
- [ ] å‹å¥½çš„é”™è¯¯æç¤º
- [ ] å®Œæ•´çš„æ–‡æ¡£
- [ ] ä¸°å¯Œçš„ç¤ºä¾‹
- [ ] æ´»è·ƒçš„ç¤¾åŒº

## ðŸ’¡ å®žæ–½å»ºè®®

### 1. æŒç»­TDD
- æ¯ä¸ªæ–°ç‰¹æ€§éƒ½å…ˆå†™æµ‹è¯•
- ä¿æŒæµ‹è¯•é€šè¿‡çŽ‡100%
- æ·»åŠ é›†æˆæµ‹è¯•

### 2. æ–‡æ¡£å…ˆè¡Œ
- å…ˆè®¾è®¡API
- ç¼–å†™ä½¿ç”¨æ–‡æ¡£
- å†å®žçŽ°åŠŸèƒ½

### 3. å°æ­¥è¿­ä»£
- æ¯æ¬¡åªå®žçŽ°ä¸€ä¸ªå°ç‰¹æ€§
- åŠæ—¶æäº¤ä»£ç 
- é¿å…å¤§æ”¹åŠ¨

### 4. æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨æ€§èƒ½åˆ†æžå·¥å…·
- ä¼˜åŒ–çƒ­ç‚¹ä»£ç 
- å‡å°‘å†…å­˜åˆ†é…

### 5. ä»£ç å®¡æŸ¥
- ä¿æŒä»£ç è´¨é‡
- éµå¾ªç¼–ç è§„èŒƒ
- é‡æž„æ”¹è¿›

## ðŸŽ¯ æœ€ç»ˆç›®æ ‡

åˆ›å»ºä¸€ä¸ª**ç”Ÿäº§å°±ç»ª**çš„CHTLç¼–è¯‘å™¨ï¼š

- âœ… å®Œæ•´çš„CHTLè¯­æ³•æ”¯æŒ
- âœ… å®Œæ•´çš„CHTL JSæ”¯æŒ
- âœ… æ¨¡å—ç³»ç»Ÿ
- âœ… ä¼˜ç§€çš„é”™è¯¯å¤„ç†
- âœ… ä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿ
- âœ… è¯¦ç»†çš„æ–‡æ¡£
- âœ… æ´»è·ƒçš„ç¤¾åŒº

è®©CHTLæˆä¸ºWebå¼€å‘çš„**æ–°é€‰æ‹©**ï¼ðŸš€
