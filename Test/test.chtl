use html5;
use @Config Basic;

[Configuration]
{
    INDEX_INITIAL_COUNT = 0;
    DEBUG_MODE = false;
}

[Import] @Chtl from "helpers/base.chtl";
[Import] @Style from "components.css" as BaseStyles;
[Import] [Custom] @Element MyButton from "components/button.chtl";

[Namespace] MyTheme {
    [Template] @Var ThemeColor
    {
        mainColor: "rgb(255, 192, 203)";
    }
}

[Custom] @Style ValuelessText
{
    color,
    font-size;
}

[Template] @Style BaseStyle
{
    font-size: 16px;
    font-family: Arial;
    border: 1px solid black;
}

[Template] @Style DefaultText
{
    inherit @Style BaseStyle;
	color: blue;
	line-height: 1.6;
    font-size: 18px; // Overwrite base style
}

[Template] @Element Box
{
    div {
        text { "This is a box from a template." }
    }
}

[Custom] @Element SpecializationTest
{
    div { text { "first" } }
    div { text { "second" } }
    span { text { "third" } }
}

# This is a generator-aware comment that should appear in the output.

// This is a regular comment that should be ignored.

html {
    head {
        title {
            text { "My CHTL Page" }
        }
    }
    body {
        div {
            id: "main-container";
            class = "container"; // Testing the '=' alternative for ':'

            h1 {
                style {
                    width: 100px;
                    color: red;
                    background-color: ThemeColor(mainColor);
                    font-size: 12px * 2;
                    border: width > 50px ? "1px solid green" : "1px solid red";
                    height: width + 10px;
                }
                text { "Welcome to CHTL!" }
            }

            p {
                style {
                    @Style DefaultText;
                    font-weight: bold;
                }
                text { "This is a paragraph generated from CHTL source." }
            }

            @Element Box;

            hr {}

            @Element Box;

            div {
                style {
                    @Style ValuelessText {
                        color: purple;
                        font-size: 22px;
                    }
                }
                text { "This text uses a specialized custom style." }
            }

            div {
                style {
                    @Style BaseStyle {
                        delete border;
                    }
                }
                text { "This text should have no border." }
            }

            @Element SpecializationTest {
                delete div[0];
                insert after span {
                    p { text { "inserted text" } }
                }
            }

            span {
                style {
                    .highlight {
                        background-color: yellow;
                    }
                }
                text { "This text should be highlighted." }
            }

            [Origin] @Html {
                <!-- This is a raw HTML comment inside an Origin block -->
            }
        }
    }
}
